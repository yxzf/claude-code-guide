# Claude Subagent 完整讲解 - 视频脚本

## 🎬 视频概述
**时长预估**: 15-20分钟  
**目标观众**: Claude Code用户、AI开发者、技术团队  
**核心价值**: 学会构建专业化AI助手团队，提升开发效率  

---

## 📝 详细脚本

### 开场 (0:00-1:00)

**[屏幕显示: Claude Code界面]**

大家好！今天我们来深入学习Claude Code中的一个强大功能——Subagent。如果你经常使用Claude Code进行开发，但还没有用过Subagent，那你可能错过了一个让开发效率成倍提升的神器。

**[屏幕显示: 文档标题页面]**

在这个视频中，我们将从零开始，完整学习Subagent的概念、配置、使用和最佳实践。相信看完后，你也能组建属于自己的AI专家团队。

---

### 第一部分：什么是Subagent (1:00-4:00)

#### 1.1 基本概念介绍 (1:00-2:00)

**[屏幕显示: 文档 1.1 基本概念部分]**

首先，什么是Subagent？简单来说，**Subagent（子智能体）** 就是Claude Code中的专门AI助手，就像给Claude组建了一个专业团队。

我们可以这样理解：
- **主Claude** = 项目经理，负责理解需求和任务分配
- **Subagent** = 各领域专家，专门处理特定类型的工作

#### 1.2 工作流程演示 (2:00-3:00)

**[屏幕显示: 文档工作流程图]**

让我们看看Subagent是如何工作的。比如当你说："帮我检查代码安全问题"

1. 用户请求进入主Claude
2. 主Claude分析：这是安全相关任务
3. 自动调用专门的 security-auditor Subagent
4. 专家在独立环境中进行安全审查
5. 返回专业的安全分析报告

这整个过程对用户来说是透明的，但背后却有专业分工在运作。

#### 1.3 核心特征 (3:00-4:00)

**[屏幕显示: 文档 1.3 核心特征]**

Subagent有三个核心特征：

**独立上下文窗口**：每个Subagent都有自己的"工作空间"，不会被其他信息干扰，可以专注处理特定任务。

**专业化分工**：就像真实团队一样，有代码审查专家、数据分析专家、前端开发专家等。

**定制化配置**：你可以为每个Subagent配置专门的工具权限、系统提示和模型选择。

---

### 第二部分：Subagent配置 (4:00-10:00)

#### 2.1 文件位置 (4:00-4:30)

**[屏幕显示: 文档 2.1 文件位置]**

现在我们来学习如何配置Subagent。Subagent配置文件有两个位置：

- **项目级**: `.claude/agents/` - 只在当前项目生效
- **用户级**: `~/.claude/agents/` - 在所有项目中都可用

#### 2.2 文件格式 (4:30-5:30)

**[屏幕显示: 文档 2.2 文件格式示例]**

Subagent使用YAML + Markdown格式配置。结构很简单：

```markdown
---
name: unique-identifier
description: 功能描述
model: sonnet
color: blue
tools: tool1, tool2, tool3
---

# Subagent的系统提示词内容
你是一个专业的XXX专家...
```

#### 2.3 配置字段说明 (5:30-6:30)

**[屏幕显示: 文档 2.3 配置字段表格]**

让我们详细了解每个配置字段：

- **name**: 唯一标识符，使用小写字母和连字符
- **description**: 自然语言描述，Claude用来判断何时调用
- **model**: 可选择 haiku（快速）、sonnet（平衡）、opus（最强）
- **color**: 界面显示颜色，用于区分不同Subagent
- **tools**: 工具权限，可以限制只使用必要的工具
- **系统提示词**: YAML后的Markdown内容，定义角色和工作方式

#### 2.4 实际演示配置 (6:30-8:30)

**[演示提示: 切换到Claude Code界面，演示创建Subagent]**

现在我们来实际创建一个Subagent。我们创建一个代码审查专家。

**[在Claude中输入: "/agents"命令，演示agents界面]**

可以看到，我们可以用`/agents`命令来管理Subagent。

**[演示创建新的代码审查员Subagent文件]**

让我在`.claude/agents/`目录下创建一个`code-reviewer.md`文件：

```markdown
---
name: code-reviewer
description: 代码审查专家，专门分析代码质量、安全性和最佳实践
model: sonnet
color: blue
tools: Read, Grep
---

你是一个代码审查专家，专门负责：
- 代码质量分析
- 安全漏洞检测
- 最佳实践建议
- 性能优化建议

审查时请关注：
1. 代码结构和可读性
2. 潜在的安全问题
3. 性能瓶颈
4. 遵循语言规范
```

#### 2.5 深入理解：description vs 系统提示词 (8:30-10:00)

**[屏幕显示: 文档 2.5 深入理解部分]**

这里有个重要区别需要理解：

**description字段**是给Claude看的，用来判断什么时候调用这个Subagent。要写得具体明确。

**系统提示词**是给Subagent看的，定义它的角色、能力和工作方式。

举个例子：
- description: "React/TypeScript前端开发专家。当需要创建React组件、状态管理时自动调用"
- 系统提示词: "你是一个资深的React开发工程师，专注于组件设计和性能优化..."

---

### 第三部分：有效使用Subagent (10:00-13:00)

#### 3.1 自动调用演示 (10:00-11:30)

**[演示提示: 在Claude中演示自动调用]**

现在我们来看看Subagent如何自动工作。我刚才创建了代码审查员，让我们试试。

**[在Claude中输入: "帮我检查这段JavaScript代码的安全问题"]**

看！Claude自动识别这是代码审查任务，调用了我们的code-reviewer Subagent。

Claude是通过三个方面来判断的：
- **任务描述匹配**: "检查代码" + "安全问题" 匹配代码审查专家
- **上下文分析**: 检测到是JavaScript文件
- **关键词识别**: "代码审查"、"安全"等关键词

#### 3.2 手动调用演示 (11:30-12:30)

**[演示提示: 演示手动指定Subagent]**

当然，我们也可以手动指定Subagent：

**[在Claude中输入: "请使用code-reviewer来审查这个函数"]**

或者使用@语法：

**[在Claude中输入: "@code-reviewer 请检查这段代码的性能问题"]**

#### 3.3 性能优化技巧 (12:30-13:00)

**[屏幕显示: 文档 3.3 性能优化技巧]**

使用Subagent的几个技巧：

**精准描述配置**: description要写得具体，避免模糊描述
**合理工具权限**: 只给必要的工具，代码审查员只需要Read和Grep
**上下文预热**: 在复杂项目中，可以先让Subagent了解项目结构

---

### 第四部分：开源资源和最佳实践 (13:00-16:00)

#### 4.1 开源资源介绍 (13:00-14:00)

**[屏幕显示: 文档 4.1 开源资源表格]**

不用从零开始！社区已经有很多优秀的Subagent资源：

- **agents**: 76个生产级Subagent，11.4k星标
- **claude-flow**: 87个工具，专门做AI协调平台
- **claude-code-subagents-collection**: 43个专业领域覆盖

**[演示提示: 浏览器打开GitHub仓库，展示实际项目]**

让我们看看这些项目的实际内容...

#### 4.2 最佳实践 (14:00-16:00)

**[屏幕显示: 文档第5章最佳实践]**

总结几个最佳实践：

**从Claude生成开始**: 可以先让Claude帮你生成Subagent模板
**设计专注的Subagent**: 每个Subagent专注一个领域，不要什么都做
**编写详细的提示**: 系统提示词越详细，Subagent表现越好
**限制工具访问**: 安全第一，只给必要的工具权限
**版本控制**: 将Subagent配置加入Git，团队协作更高效

---

### 第五部分：总结和展望 (16:00-17:00)

#### 6.1 核心价值总结 (16:00-16:30)

**[屏幕显示: 文档第6章总结]**

让我们总结一下Subagent的核心价值：

- **并行处理**: 多任务同时执行
- **专业化**: 每个领域都有专家级能力  
- **上下文保护**: 独立工作空间避免干扰
- **灵活配置**: 适应不同项目需求

#### 6.2 适用场景 (16:30-17:00)

Subagent特别适合：
- **大型项目**: 需要多角色协作
- **团队开发**: 标准化工作流程
- **专业领域**: 需要深度专业知识
- **重复任务**: 自动化专业操作

---

### 结尾 (17:00-18:00)

**[屏幕回到Claude Code界面]**

好的，今天我们完整学习了Claude Subagent的使用。从基本概念到实际配置，从自动调用到手动指定，相信你现在已经可以开始构建自己的AI专家团队了。

记住最重要的一点：最好的Subagent系统应该让你感觉拥有了一个专业团队，但操作起来像使用单一助手一样简单。

如果这个视频对你有帮助，别忘了点赞订阅。在评论区分享你创建的有趣Subagent，我们下期见！

**[屏幕显示: 订阅提醒和相关视频推荐]**

---

## 🎯 演示要点提醒

### 必要演示场景：
1. **Claude Code `/agents` 命令演示** (6:30-8:30)
2. **创建code-reviewer.md文件** (实际操作)
3. **自动调用Subagent演示** (10:00-11:30)
4. **手动调用@语法演示** (11:30-12:30)
5. **GitHub开源项目浏览** (13:00-14:00)

### 屏幕录制准备：
- Claude Code界面准备好示例项目
- 准备好一段有问题的代码用于演示
- 浏览器书签准备好GitHub项目链接
- 文档页面准备好章节跳转

### 语速和节奏：
- 概念讲解：慢速，重点强调
- 演示操作：中速，清晰可见
- 总结部分：正常语速

### 互动提示：
- 鼓励观众在评论区分享自己的Subagent
- 提醒订阅和关注后续视频
- 可以预告下期内容（如高级配置技巧）